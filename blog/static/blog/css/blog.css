/* ===== Variables (mantengo las tuyas y agrego) ===== */
:root{
  --bg:#f7faf9; --bg-2:#eef4f3;
  --card:#ffffff; --surface:#fbfbfd;
  --text:#1f2937; --muted:#6b7280;
  --brand:#10b981; --brand-2:#0ea5e9; --brand-dk:#0b7f67;
  --ring:rgba(16,185,129,.35);
  --shadow-sm:0 1px 2px rgba(0,0,0,.05);
  --shadow-md:0 8px 28px rgba(2,8,20,.08);
  --shadow-lg:0 18px 50px -10px rgba(2,8,20,.18);
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;background:var(--bg);color:var(--text);
  font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{color:var(--brand-2);text-decoration:none}
a:hover{text-decoration:underline}
.muted{color:var(--muted)}
.dot{opacity:.5;margin:0 .35rem}

/* Contenedor genérico (se integra con tu layout) */
.container{max-width:1100px;margin:32px auto;padding:0 20px}

/* ===== COMPONENTES NUEVOS ===== */

/* Barra de progreso lectura */
.read-progress{
  position:fixed;left:0;top:0;height:3px;width:0;
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  z-index:9999; box-shadow:var(--shadow-sm);
}

/* Migas */
.breadcrumbs{display:flex;gap:.5rem;align-items:center;margin:0 0 1rem}
.crumb{display:inline-flex;gap:.4rem;align-items:center;color:var(--muted)}
.crumb.is-current{color:var(--text);font-weight:600}
.crumb:hover{text-decoration:none;color:var(--text)}

/* HERO del blog (listado) */
.blog-hero{
  background:linear-gradient(180deg,#ffffff, var(--surface));
  border:1px solid #e5e7eb;border-radius:16px;
  padding:22px 20px;margin-bottom:18px;
  box-shadow:var(--shadow-sm); position:relative; overflow:hidden;
}
.blog-hero::after{
  content:""; position:absolute; inset:auto -10% 0 -10%; height:120px;
  background:radial-gradient(1200px 120px at 50% 100%, rgba(16,185,129,.08), transparent);
}
.blog-hero__icon{
  width:56px;height:56px;border-radius:14px;
  display:grid;place-items:center;margin-bottom:8px;
  color:#1f8a70; background:linear-gradient(135deg,#d1fae5,#e0f2fe);
  box-shadow:var(--shadow-sm)
}
.blog-hero__icon svg{width:28px;height:28px}
.blog-hero__title{margin:0 0 6px;font-size:2rem;letter-spacing:.2px}
.blog-hero__subtitle{margin:0 0 12px;color:var(--muted)}

/* Buscador */
.blog-search{display:flex;gap:10px;align-items:center}
.blog-search__input{
  flex:1;border:1px solid #e5e7eb;border-radius:12px;
  padding:12px 14px;background:#fff;outline:none;
}
.blog-search__input:focus{border-color:var(--brand); box-shadow:0 0 0 4px var(--ring)}
.link-muted{color:var(--muted)}
.link-muted:hover{color:var(--text);text-decoration:none}

/* Chips / etiquetas */
.chip{
  display:inline-flex;align-items:center;gap:.35rem;
  border:1px solid #e5e7eb;border-radius:999px;
  padding:.25rem .6rem;font-size:.85rem;background:#fff;color:var(--text)
}
.chip--active{background:#ecfdf5;border-color:#a7f3d0;color:#065f46}
.chip--hero{background:rgba(255,255,255,.9);backdrop-filter:saturate(180%) blur(4px)}
.chip--ghost{background:#f1f5f9;border-color:#e2e8f0;color:#0f172a}
.chip + .chip{margin-left:.35rem}

/* Botones */
.btn{
  --_bg:var(--brand); --_fg:#fff; --_bd:transparent;
  display:inline-flex;align-items:center;gap:.45rem;
  padding:10px 14px;border-radius:12px;border:1px solid var(--_bd);
  background:linear-gradient(180deg,var(--_bg), color-mix(in srgb,var(--_bg),#000 8%));
  color:var(--_fg); font-weight:700; box-shadow:var(--shadow-sm); cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-md);text-decoration:none}
.btn:active{transform:translateY(0)}
.btn:focus-visible{outline:3px solid var(--ring);outline-offset:2px}
.btn--primary{}
.btn--ghost{--_bg:#fff; --_fg:#0f172a; --_bd:#e5e7eb; background:#fff}
.btn--ghost:hover{filter:brightness(1.02)}

/* Filtros activos */
.active-filters{display:flex;flex-wrap:wrap;gap:.5rem .7rem;align-items:center}

/* Grilla de posts */
.posts-grid{
  display:grid;gap:18px;
  grid-template-columns:repeat(12,minmax(0,1fr));
}
.post-card{
  grid-column:span 4;background:#fff;border:1px solid #e5e7eb;border-radius:16px;
  overflow:hidden;box-shadow:var(--shadow-sm);display:flex;flex-direction:column;
  transform:translateY(8px);opacity:0;transition:transform .5s cubic-bezier(.2,.8,.2,1),opacity .5s;
}
.post-card.is-visible{transform:none;opacity:1}
@media (max-width:1100px){ .post-card{grid-column:span 6} }
@media (max-width:700px){ .post-card{grid-column:span 12} }

.post-card__media{
  display:block;aspect-ratio:16/9;background:#f1f5f9;position:relative;overflow:hidden
}
.post-card__media img{width:100%;height:100%;object-fit:cover;display:block;transition:transform .6s}
.post-card:hover .post-card__media img{transform:scale(1.04)}
.post-card__body{padding:14px 14px 16px;display:flex;flex-direction:column;gap:10px}
.post-card__meta{color:var(--muted);font-size:.92rem;display:flex;flex-wrap:wrap;gap:.45rem .65rem;align-items:center}
.post-card__title{margin:0;font-size:1.15rem;line-height:1.25}
.post-card__title a{color:inherit;text-decoration:none}
.post-card__title a:hover{text-decoration:underline}
.post-card__excerpt{margin:0;color:#334155}
.post-card__tags{display:flex;flex-wrap:wrap;gap:.5rem}

/* Article HERO (detalle) */
.article-hero{position:relative;border-radius:16px;overflow:hidden;margin-bottom:18px;border:1px solid #e5e7eb}
.article-hero__media{margin:0;line-height:0;display:block;max-height:420px;overflow:hidden;background:#f1f5f9}
.article-hero__media img{width:100%;height:420px;object-fit:cover;display:block}
.article-hero__overlay{
  position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.0) 20%, rgba(0,0,0,.55) 85%);
}
.article-hero__content{
  position:absolute;left:0;right:0;bottom:0;color:#fff;padding:18px;
  display:flex;flex-direction:column;gap:10px
}
.post-meta--on-hero .chip{background:rgba(255,255,255,.85);color:#083344;border-color:transparent}
.post-title{margin:0;font-size:2rem;line-height:1.2;text-shadow:0 1px 10px rgba(0,0,0,.35)}
.post-quick{display:flex;gap:10px;align-items:center}

/* Contenido (prose) */
.prose{font-size:1.05rem;color:#111827}
.prose :where(h2,h3,h4){line-height:1.25;margin:1.25rem 0 .6rem;font-weight:800}
.prose h2{font-size:1.6rem}
.prose h3{font-size:1.25rem}
.prose p{margin:.8rem 0}
.prose ul, .prose ol{padding-left:1.2rem;margin:.8rem 0}
.prose blockquote{
  margin:1rem 0;padding:14px 16px;border-left:4px solid var(--brand);background:#ecfdf5;border-radius:10px;color:#064e3b
}
.prose img{max-width:100%;height:auto;border-radius:12px}
.prose code{background:#1118270d;padding:.15rem .35rem;border-radius:6px}

/* Footer de etiquetas + pager */
.post-footer{margin-top:12px}
.post-pager{display:flex;justify-content:space-between;gap:12px;margin-top:14px}
.pager{padding:10px 12px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:inherit;text-decoration:none}
.pager:hover{box-shadow:var(--shadow-sm)}

/* Separador y sección comentarios */
.sep{border:0;border-top:1px solid #e5e7eb;margin:22px 0}

.comments{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:16px;box-shadow:var(--shadow-sm)}
.section-title{margin:0 0 .6rem;font-size:1.35rem}
.section-subtitle{margin:1rem 0 .4rem}

.comment-list{list-style:none;margin:0;padding:0;display:grid;gap:10px}
.comment{border:1px solid #eef2f7;border-radius:12px;padding:12px;background:#fcfdff}
.comment__head{display:flex;gap:.6rem;align-items:baseline}
.comment__author{font-weight:700}
.comment__date{color:var(--muted);font-size:.9rem}

/* Formulario de comentarios */
.comment-form .form-row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width:720px){ .comment-form .form-row{grid-template-columns:1fr} }
.comment-form .form-field{display:flex;flex-direction:column;gap:6px}
.comment-form input,.comment-form textarea{
  width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:10px;outline:none;background:#fff
}
.comment-form input:focus,.comment-form textarea:focus{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}
.form-errors{color:#991b1b;background:#fee2e2;border:1px solid #fecaca;padding:.45rem .6rem;border-radius:10px}

/* Flash messages */
.flash{display:grid;gap:8px;margin:.6rem 0}
.flash__item{padding:.6rem .8rem;border-radius:10px;border:1px solid #e5e7eb;background:#fff}
.flash__item.success{border-color:#a7f3d0;background:#ecfdf5}
.flash__item.error{border-color:#fecaca;background:#fef2f2}

/* ===== Tus clases previas (compat) ===== */
.header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:16px}
.brand{font-size:32px;font-weight:800;margin:0}
.search{display:flex;gap:8px;align-items:center;background:#fff;border:1px solid #e5e7eb;border-radius:999px;padding:6px 8px;box-shadow:var(--shadow-sm)}
.search input{border:none;outline:none;padding:8px 10px;border-radius:999px;min-width:220px}
.btn{border:none} /* ya redefinida arriba */
.grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
.card{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;overflow:hidden;box-shadow:var(--shadow-sm)}
.card img{width:100%;height:180px;object-fit:cover;display:block}
.card .p{padding:14px}
.card h3{margin:0 0 6px 0;font-size:20px;line-height:1.3}
.meta{color:var(--muted);font-size:13px;margin-bottom:8px}
.tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.tag{background:#ecfeff;color:#0369a1;border:1px solid #bae6fd;padding:2px 8px;border-radius:999px;font-size:12px}
.detail{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;padding:18px;box-shadow:var(--shadow-sm)}
.hero{width:100%;max-height:360px;object-fit:cover;border-radius:12px}
.hr{border:0;border-top:1px solid #e5e7eb;margin:16px 0}
.form input,.form textarea{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px;margin:4px 0 10px 0;outline:none}
.form input:focus,.form textarea:focus{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}