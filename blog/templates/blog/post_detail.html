{% extends "base.html" %}
{% load static %}
{% block title %}{{ post.title }} — Blog{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog/css/blog.css' %}">
{% endblock %}

{% block content %}

<nav class="breadcrumbs" style="margin-bottom: 1rem;">
  <a href="{% url 'blog:post_list' %}">← Volver al blog</a>
</nav>

<article class="post-detail">
  <header class="post-header">
    <h1 class="post-title">{{ post.title }}</h1>
    <div class="post-meta">
      <span>📂 <a href="{% url 'blog:post_list' %}?cat={{ post.category.slug }}">{{ post.category.name }}</a></span>
      {% if post.published_at %} ·
        <time datetime="{{ post.published_at|date:'c' }}">📅 {{ post.published_at|date:"d M Y" }}</time>
      {% endif %}
      · 👤 {{ post.author.username }}
    </div>
  </header>

  <figure class="post-hero">
    {% if post.hero_image %}
      <img src="{{ post.hero_image.url }}" alt="Imagen de {{ post.title }}">
    {% else %}
      <img src="{% static 'blog/img/default-cat.svg' %}" alt="Imagen por defecto">
    {% endif %}
  </figure>

  <section class="post-content">
    {{ post.content|linebreaksbr }}
  </section>

  {% if post.tags.all %}
    <footer class="post-footer">
      <div class="tags">
        <strong>Etiquetas:</strong>
        {% for t in post.tags.all %}
          <a class="tag" href="{% url 'blog:post_list' %}?tag={{ t.slug }}">#{{ t.name }}</a>
        {% endfor %}
      </div>
    </footer>
  {% endif %}
</article>

<section class="back-to-blog" style="margin-top:2rem;">
  <a class="feature-link" href="{% url 'blog:post_list' %}">← Ver más publicaciones</a>
</section>

{% endblock %}

{% block extra_js %}
<script src="{% static 'blog/js/blog.js' %}"></script>
{% endblock %}